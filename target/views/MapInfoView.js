define(["ember"],function(e){var t=e.View.extend({map:null,mapCentreMarker:null,mapPolygon:null,didInsertElement:function(){var e={zoom:2,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!1,streetViewControl:!1};this.map=new google.maps.Map(this.$().get(0),e),this.mapCentreMarker=new google.maps.Marker({map:this.map}),this.mapPolygon=new google.maps.Polygon({strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35}),this.mapPointerDidChange(),this.mapPolygonDidChange()},mapPointerDidChange:function(){if(this.lat&&this.lng){var e=new google.maps.LatLng(this.lat,this.lng);this.map.setCenter(e),this.mapCentreMarker.setPosition(e)}}.observes("this.lat","this.lng"),mapPolygonDidChange:function(){this.markers&&this.drawPolygon()}.observes("this.markers"),drawPolygon:function(){var e=[],t;this.markers.forEach(function(n){t=new google.maps.LatLng(n[0],n[1]),e.push(t)}),this.mapPolygon.setPath(e),this.mapPolygon.setMap(this.map)}});return t});